/* ============================================
   ADMIN MOBILE RESPONSIVE FIX
   Fix pour les icônes d'actions et tables
   ============================================ */

/* ============================================
   TABLES RESPONSIVE - ACTIONS VISIBLES
   ============================================ */

@media (max-width: 768px) {
  
  /* Container des tables avec scroll horizontal */
  .ant-table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Table minimum width pour permettre le scroll */
  .ant-table {
    min-width: 100%;
    width: max-content !important;
  }

  /* Headers et cells plus compacts */
  .ant-table-thead > tr > th {
    padding: 10px 8px !important;
    font-size: 12px !important;
    white-space: nowrap;
    min-width: 80px;
  }

  .ant-table-tbody > tr > td {
    padding: 10px 8px !important;
    font-size: 12px !important;
    white-space: nowrap;
    min-width: 80px;
  }

  /* Colonne Actions - TOUJOURS VISIBLE */
  .ant-table-thead > tr > th:last-child,
  .ant-table-tbody > tr > td:last-child {
    position: sticky !important;
    right: 0 !important;
    background: white !important;
    box-shadow: -2px 0 4px rgba(0, 0, 0, 0.1) !important;
    z-index: 2 !important;
    min-width: 100px !important;
  }

  .ant-table-thead > tr > th:last-child {
    z-index: 3 !important;
    background: #fafafa !important;
  }

  /* Icônes d'actions PLUS GRANDES et VISIBLES */
  .ant-table-tbody > tr > td:last-child a,
  .ant-table-tbody > tr > td:last-child button {
    font-size: 20px !important;
    padding: 8px !important;
    min-width: 36px !important;
    min-height: 36px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 4px !important;
  }

  /* Icônes SVG et FontAwesome */
  .ant-table-tbody > tr > td:last-child svg,
  .ant-table-tbody > tr > td:last-child i {
    font-size: 20px !important;
    width: 20px !important;
    height: 20px !important;
  }

  /* Classes fs-3, fs-4, fs-5 override */
  .ant-table-tbody .fs-3 {
    font-size: 22px !important;
  }

  .ant-table-tbody .fs-4 {
    font-size: 20px !important;
  }

  .ant-table-tbody .fs-5 {
    font-size: 18px !important;
  }

  /* Couleurs des icônes bien visibles */
  .ant-table-tbody a.text-danger {
    color: #ff4d4f !important;
  }

  .ant-table-tbody a.text-primary,
  .ant-table-tbody a.text-info {
    color: #1890ff !important;
  }

  .ant-table-tbody a.text-warning {
    color: #faad14 !important;
  }

  /* Hover et active states pour touch */
  .ant-table-tbody > tr > td:last-child a:active,
  .ant-table-tbody > tr > td:last-child button:active {
    opacity: 0.7;
    transform: scale(0.95);
  }

  /* Séparateur entre icônes */
  .ant-table-tbody > tr > td:last-child {
    display: flex !important;
    gap: 8px !important;
    justify-content: center !important;
    align-items: center !important;
  }

  /* Image produit plus petite */
  .ant-table-tbody img {
    width: 40px !important;
    height: 40px !important;
    object-fit: cover !important;
    border-radius: 4px;
  }

  /* Texte dans les cellules */
  .ant-table-tbody > tr > td:not(:last-child) {
    max-width: 120px !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  /* Status badges */
  .ant-badge-status-text,
  .ant-tag {
    font-size: 11px !important;
    padding: 2px 6px !important;
  }

  /* Checkbox plus grand */
  .ant-checkbox-inner {
    width: 20px !important;
    height: 20px !important;
  }

  /* Pagination mobile */
  .ant-pagination {
    margin-top: 16px !important;
    text-align: center !important;
  }

  .ant-pagination-item,
  .ant-pagination-prev,
  .ant-pagination-next {
    min-width: 36px !important;
    height: 36px !important;
    line-height: 34px !important;
    font-size: 14px !important;
  }

  /* Page size selector */
  .ant-select-selector {
    min-height: 36px !important;
    padding: 4px 8px !important;
  }
}

/* ============================================
   DASHBOARD CARDS MOBILE
   Classes EXACTES du Dashboard.js
   ============================================ */

@media (max-width: 768px) {
  
  /* Dashboard container */
  .dashboard-container {
    padding: 15px !important;
  }

  /* Stats cards grid - GRILLE 2x2 SUR MOBILE */
  .dashboard-stats {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 10px !important;
    margin-bottom: 20px !important;
  }

  /* Stat cards modernes - COMPACTS */
  .stat-card-modern {
    padding: 12px !important;
    border-radius: 12px !important;
    min-height: auto !important;
  }

  /* Header des cartes */
  .stat-card-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    margin-bottom: 8px !important;
  }

  /* Container des icônes */
  .stat-icon-container {
    width: 36px !important;
    height: 36px !important;
    border-radius: 8px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* Icônes dans les cartes */
  .stat-icon-container .stat-icon {
    font-size: 18px !important;
    width: 18px !important;
    height: 18px !important;
  }

  /* Trend indicator */
  .stat-trend {
    font-size: 10px !important;
    padding: 2px 6px !important;
    border-radius: 4px !important;
  }

  /* Body des cartes */
  .stat-card-body {
    padding: 0 !important;
  }

  /* Label moderne */
  .stat-label-modern {
    font-size: 11px !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin-bottom: 4px !important;
    opacity: 0.9 !important;
    display: block !important;
    color: #6c757d !important;
  }

  /* Valeur moderne - GRAND ET VISIBLE */
  .stat-value-modern {
    font-size: 24px !important;
    font-weight: 700 !important;
    margin: 4px 0 !important;
    line-height: 1.2 !important;
    display: block !important;
    color: #2d3748 !important;
  }

  /* Subtitle */
  .stat-subtitle {
    font-size: 9px !important;
    margin-top: 4px !important;
    opacity: 0.7 !important;
  }

  /* Section des commandes récentes */
  .recent-orders-section {
    margin-top: 20px !important;
  }

  .section-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    margin-bottom: 15px !important;
    flex-wrap: wrap !important;
  }

  .section-title {
    font-size: 16px !important;
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
  }

  .section-icon {
    width: 32px !important;
    height: 32px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 16px !important;
  }

  .view-all-btn {
    font-size: 12px !important;
    padding: 6px 12px !important;
  }

  /* Dashboard table responsive */
  .dashboard-table {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Charts responsive */
  .recharts-wrapper,
  .chart-container {
    width: 100% !important;
    height: 250px !important;
    overflow-x: auto !important;
  }

  /* Loading state */
  .dashboard-loading {
    padding: 40px 20px !important;
    text-align: center !important;
  }

  .loading-text {
    font-size: 14px !important;
    margin-top: 15px !important;
  }

  /* Error state */
  .dashboard-error {
    padding: 20px !important;
    text-align: center !important;
  }

  .error-message {
    font-size: 13px !important;
    margin: 10px 0 !important;
  }

  .retry-btn {
    font-size: 13px !important;
    padding: 8px 16px !important;
    margin-top: 10px !important;
  }
}

/* ============================================
   FORMS MOBILE
   ============================================ */

@media (max-width: 768px) {
  
  /* Form items full width */
  .ant-form-item {
    margin-bottom: 16px !important;
  }

  .ant-form-item-label {
    padding-bottom: 4px !important;
  }

  .ant-form-item-label > label {
    font-size: 13px !important;
    font-weight: 600 !important;
  }

  /* Inputs larger for touch */
  .ant-input,
  .ant-input-number,
  .ant-picker,
  .ant-select-selector {
    min-height: 42px !important;
    font-size: 15px !important;
    padding: 8px 12px !important;
  }

  /* Textarea */
  .ant-input-textarea textarea {
    min-height: 100px !important;
    font-size: 15px !important;
  }

  /* Buttons full width on mobile */
  .ant-form-item .ant-btn {
    width: 100% !important;
    height: 44px !important;
    font-size: 16px !important;
    font-weight: 600 !important;
  }

  /* Upload area */
  .ant-upload-drag {
    padding: 20px !important;
  }

  .ant-upload-drag-icon {
    margin-bottom: 12px !important;
  }

  /* Rich text editor */
  .quill {
    border-radius: 4px !important;
  }

  .ql-toolbar {
    border-radius: 4px 4px 0 0 !important;
    padding: 8px !important;
  }

  .ql-container {
    font-size: 15px !important;
    min-height: 180px !important;
  }

  .ql-editor {
    min-height: 180px !important;
    font-size: 15px !important;
  }
}

/* ============================================
   MODALS MOBILE
   ============================================ */

@media (max-width: 768px) {
  
  /* Modal full width on small screens */
  .ant-modal {
    max-width: calc(100vw - 24px) !important;
    margin: 12px auto !important;
    top: 12px !important;
  }

  .ant-modal-content {
    border-radius: 8px !important;
  }

  .ant-modal-header {
    padding: 16px !important;
  }

  .ant-modal-title {
    font-size: 18px !important;
    font-weight: 600 !important;
  }

  .ant-modal-body {
    padding: 16px !important;
    max-height: calc(100vh - 200px) !important;
    overflow-y: auto !important;
  }

  .ant-modal-footer {
    padding: 12px 16px !important;
  }

  .ant-modal-footer .ant-btn {
    height: 40px !important;
    font-size: 15px !important;
  }
}

/* ============================================
   HEADER MOBILE
   ============================================ */

@media (max-width: 768px) {
  
  /* Header compact */
  .ant-layout-header {
    padding: 0 12px !important;
    height: 56px !important;
    line-height: 56px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
  }

  /* Trigger button larger */
  .trigger {
    font-size: 22px !important;
    padding: 16px !important;
    cursor: pointer !important;
  }

  /* Dropdown menu */
  .ant-dropdown-menu {
    min-width: 150px !important;
  }

  .ant-dropdown-menu-item {
    padding: 12px 16px !important;
    font-size: 14px !important;
  }

  /* Badge hide on very small screens */
  @media (max-width: 480px) {
    .admin-badge {
      display: none !important;
    }
  }
}

/* ============================================
   SIDEBAR MOBILE
   ============================================ */

@media (max-width: 768px) {
  
  /* Logo section */
  .logo {
    padding: 16px 12px !important;
    text-align: center !important;
  }

  .logo img {
    max-height: 40px !important;
    max-width: 40px !important;
  }

  .logo span {
    font-size: 14px !important;
    font-weight: 600 !important;
  }

  /* Menu */
  .ant-menu-dark {
    background: #001529 !important;
  }

  .ant-menu-item,
  .ant-menu-submenu-title {
    margin: 4px 8px !important;
    width: calc(100% - 16px) !important;
    border-radius: 4px !important;
    height: 44px !important;
    line-height: 44px !important;
  }

  .ant-menu-item-selected {
    background-color: #FF7A00 !important;
  }

  /* Icons in menu */
  .ant-menu-item .anticon,
  .ant-menu-submenu-title .anticon {
    font-size: 18px !important;
    margin-right: 12px !important;
  }

  /* Submenu */
  .ant-menu-submenu-title {
    padding-left: 16px !important;
  }

  .ant-menu-sub {
    background: rgba(0, 0, 0, 0.2) !important;
  }

  .ant-menu-sub .ant-menu-item {
    padding-left: 48px !important;
    height: 40px !important;
    line-height: 40px !important;
  }
}

/* ============================================
   LISTE PRODUITS MOBILE
   ============================================ */

@media (max-width: 768px) {
  
  /* Product list specific */
  .product-list-table .ant-table-tbody > tr > td {
    vertical-align: middle !important;
  }

  /* Product title column */
  .product-title-col {
    min-width: 150px !important;
    max-width: 150px !important;
  }

  /* Brand, category columns */
  .product-brand-col,
  .product-category-col {
    min-width: 100px !important;
  }

  /* Price column */
  .product-price-col {
    min-width: 80px !important;
    font-weight: 600 !important;
    color: #FF7A00 !important;
  }

  /* Color column */
  .product-color-col {
    min-width: 60px !important;
  }

  /* Actions column sticky */
  .product-actions-col {
    position: sticky !important;
    right: 0 !important;
    background: white !important;
    box-shadow: -2px 0 4px rgba(0, 0, 0, 0.1) !important;
    min-width: 100px !important;
  }
}

/* ============================================
   ORDERS TABLE MOBILE
   ============================================ */

@media (max-width: 768px) {
  
  /* Order ID column */
  .order-id-col {
    min-width: 120px !important;
    font-weight: 600 !important;
  }

  /* Customer column */
  .order-customer-col {
    min-width: 120px !important;
  }

  /* Status column */
  .order-status-col {
    min-width: 100px !important;
  }

  /* Total column */
  .order-total-col {
    min-width: 80px !important;
    font-weight: 600 !important;
    color: #FF7A00 !important;
  }

  /* Date column */
  .order-date-col {
    min-width: 100px !important;
    font-size: 11px !important;
  }
}

/* ============================================
   TOAST NOTIFICATIONS MOBILE
   ============================================ */

@media (max-width: 768px) {
  
  .Toastify__toast-container {
    width: calc(100vw - 24px) !important;
    left: 12px !important;
    right: 12px !important;
    top: 70px !important;
    padding: 0 !important;
  }

  .Toastify__toast {
    margin-bottom: 8px !important;
    border-radius: 8px !important;
    font-size: 14px !important;
    padding: 12px !important;
  }

  .Toastify__close-button {
    min-width: 32px !important;
    min-height: 32px !important;
  }
}

/* ============================================
   CACHE INVALIDATION
   ============================================ */

/* Force les navigateurs à recharger le CSS */
.admin-app-mobile-fix {
  --version: 1.0.0;
}

/* ============================================
   TOUCH ENHANCEMENTS
   ============================================ */

@media (max-width: 768px) {
  
  /* Disable text selection on buttons */
  button, .ant-btn, a {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Allow text selection in inputs */
  input, textarea, .ant-input, .ant-input-textarea {
    -webkit-user-select: text;
    user-select: text;
  }

  /* Smooth scrolling */
  * {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* ============================================
     CUSTOMERS PAGE MOBILE RESPONSIVE
     Fix pour boutons non visibles
     ============================================ */

  /* Container principal Customers */
  .admin-page-container {
    padding: 12px !important;
  }

  /* Header de la page */
  .page-header {
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
    margin-bottom: 16px !important;
    align-items: flex-start !important;
  }

  .page-header h3 {
    font-size: 18px !important;
    margin: 0 !important;
  }

  .page-header .ant-btn {
    width: 100% !important;
    height: 44px !important;
    font-size: 15px !important;
  }

  /* Card de filtres */
  .ant-card {
    margin-bottom: 16px !important;
    border-radius: 12px !important;
  }

  .ant-card .ant-card-body {
    padding: 12px !important;
  }

  /* Search et Select côte à côte mais responsive */
  .ant-space {
    width: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 10px !important;
  }

  .ant-space-item {
    width: 100% !important;
  }

  /* Input de recherche */
  .ant-input-search,
  .ant-input-search .ant-input-group {
    width: 100% !important;
  }

  .ant-input-search input {
    font-size: 16px !important;
    height: 44px !important;
    border-radius: 8px !important;
  }

  .ant-input-search-button {
    height: 44px !important;
    width: 44px !important;
  }

  /* Select dropdown */
  .ant-select {
    width: 100% !important;
  }

  .ant-select-selector {
    height: 44px !important;
    font-size: 15px !important;
    border-radius: 8px !important;
    display: flex !important;
    align-items: center !important;
  }

  /* Tags stats */
  .ant-tag {
    font-size: 12px !important;
    padding: 4px 8px !important;
    margin: 3px !important;
  }

  /* Table responsive avec scroll horizontal */
  .ant-table-wrapper {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  .ant-table {
    min-width: 800px !important;
  }

  /* Actions column - BOUTONS VISIBLES */
  .ant-space.ant-space-horizontal {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 6px !important;
    justify-content: flex-start !important;
  }

  /* Tous les boutons dans les actions */
  .ant-table-cell .ant-btn {
    min-width: 70px !important;
    height: 36px !important;
    font-size: 13px !important;
    padding: 4px 10px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 4px !important;
    white-space: nowrap !important;
    border-radius: 6px !important;
  }

  /* Bouton Edit */
  .ant-btn-default {
    border: 1px solid #d9d9d9 !important;
    background: white !important;
  }

  /* Bouton Block/Unblock */
  .ant-btn-default:nth-child(2) {
    border-color: #1890ff !important;
    color: #1890ff !important;
  }

  .ant-btn-primary:not(.ant-btn-dangerous) {
    background: #1890ff !important;
    border-color: #1890ff !important;
  }

  /* Bouton Delete */
  .ant-btn-dangerous {
    background: #ff4d4f !important;
    border-color: #ff4d4f !important;
    color: white !important;
  }

  /* Icônes dans les boutons */
  .ant-btn .anticon {
    font-size: 14px !important;
  }

  /* Popconfirm responsive */
  .ant-popover {
    max-width: 90vw !important;
  }

  .ant-popover-inner {
    padding: 12px !important;
  }

  .ant-popover-buttons {
    display: flex !important;
    gap: 8px !important;
  }

  .ant-popover-buttons .ant-btn {
    flex: 1 !important;
    height: 36px !important;
    font-size: 14px !important;
  }

  /* Pagination mobile */
  .ant-pagination {
    display: flex !important;
    flex-wrap: wrap !important;
    justify-content: center !important;
    gap: 8px !important;
    margin-top: 16px !important;
  }

  .ant-pagination-item,
  .ant-pagination-prev,
  .ant-pagination-next {
    min-width: 36px !important;
    height: 36px !important;
    line-height: 36px !important;
    font-size: 14px !important;
  }

  /* Loading spinner */
  .ant-spin {
    padding: 40px 20px !important;
  }

  .ant-spin-text {
    font-size: 14px !important;
    margin-top: 12px !important;
  }

  /* Alert messages */
  .ant-alert {
    margin-bottom: 16px !important;
    border-radius: 8px !important;
    font-size: 14px !important;
  }

  /* Message success/error */
  .ant-message {
    top: 70px !important;
  }

  .ant-message-notice-content {
    padding: 12px 16px !important;
    border-radius: 8px !important;
    font-size: 14px !important;
  }
}
